{{data-source src=(concat '/' dc '/node/' slug) filter=(to-filter terms map=(array
  (array 'node:' 'Node == "%s"')
  (array 'status:' 'Checks.Status == %s')
  (array '' 'Node == "%s"')
)) onchange=(action (mut items) value='data')}}
{{#app-view class="node list" loading=(is-undefined items)}}
  {{#block-slot 'header'}}
    <h1>
        Nodes <em>{{format-number items.length}} total</em>
    </h1>
    <label for="toolbar-toggle"></label>
  {{/block-slot}}
  {{#block-slot 'toolbar'}}
    {{phrase-editor placeholder=(if (eq terms.length 0) 'node:name status:critical search-term' '') value=(slice 0 terms.length terms) onchange=(queue (action (mut terms) value='detail.value') (action 'query' value='detail.value'))}}
  {{/block-slot}}
  {{#block-slot 'content'}}
      {{#consul-node-list items=items}}
        {{#block-slot 'data'}}{{/block-slot}}
      {{/consul-node-list}}
      {{#if (lt items.length 1)}}
        <p>
          There are no nodes.
        </p>
      {{/if}}
  {{/block-slot}}
{{/app-view}}